<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Схема теплосетей</title>
	<meta name="viewport"
		content="initial-scale=1, maximum-scale=1,user-scalable=no" />
	<link rel="stylesheet"
		href="http://js.arcgis.com/3.13/dijit/themes/claro/claro.css" />
	<link rel="stylesheet"
		href="http://js.arcgis.com/3.13/esri/css/esri.css" />
</h:head>

<h:body styleClass="bodyGis"
	onresize="console.log('Detected onresize')">

	<ui:decorate template="/templates/gisDecorator.xhtml">

		<div id="gisSlider" class="gisSlider">

			<div style="height: 100%; display: block; overflow: hidden;">

				<div id="arcGisMap"></div>
				<div id="googleMap"></div>

				<h:panelGroup id="userGisWindow" onmousedown="moveMap(event)"
					onmousemove="moveMap(event)" onmouseup="moveMap(event)"
					layout="block" styleClass="#{editor.style}">

					<svg width="100%" height="100%"> 
						<g id="groupScale"> 
							<ui:repeat value="#{gis.shapesIntersect}" var="shape">
								<h:outputText value="#{shape}" escape="false" />
							</ui:repeat> 
							<ui:repeat value="#{gis.labelsIntersect}" var="label">
								<h:outputText value="#{label}" escape="false" />
							</ui:repeat> 
					
							<g id="cr_ed_Group"> 
								<g id="cr_ed_Shape"> 
									<h:outputText value="#{editor.createEditShapeBody}" escape="false" /> 
								</g> 
								<g id="cr_ed_Points"> 
									<h:outputText value="#{editor.createEditPhantoms}" escape="false" /> 
								</g> 
							</g> 
							<g id="animate" /> 
						</g> 
					</svg>

				</h:panelGroup>
			</div>

			<div class="sideBar">
				<!--  <ui:include src="userActionsPanel.xhtml"></ui:include>-->
				<ui:include src="actionsTabPanel.xhtml"></ui:include>
			</div>

		</div>

		<div class="zoomContainer">
			<div onclick="zoom('zoomIn');" class="zoomIn">+</div>
			<div onclick="zoom('zoomOut');" class="zoomOut">-</div>
		</div>

	</ui:decorate>

	<script src="http://js.arcgis.com/3.13/"></script>
	<h:outputScript library="javascript" name="gis.js" />

</h:body>
</html>