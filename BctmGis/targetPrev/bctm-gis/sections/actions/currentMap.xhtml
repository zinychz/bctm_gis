<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Insert title here</title>
</head>
<body>

	<ui:composition>

		<fieldset style="margin: 3px; padding-top: 0; border: 1px solid #ddd;">
			<legend>Текущий объект на карте</legend>

			<h:panelGrid columns="2" style="margin:0; height: 15px;">
				<h:outputText value="Автоматически искать ТМЦ" />
				<h:selectBooleanCheckbox id="synchronizedSpec"
					value="#{mapFind.synchronizedSpec}">
					<a4j:ajax event="click" />
				</h:selectBooleanCheckbox>
			</h:panelGrid>

			<div style="overflow: auto; height: 80px;">

				<rich:tree id="currentSelection" nodeType="#{node.type}" var="node"
					status="ajaxStatus" value="#{mapFind.currentSelection}"
					toggleType="ajax" selectionType="client">
					<rich:treeNode iconClass="displayNone" type="gisgraph">
						<h:outputLink value="#"
							onclick="getShapeFromLinkAndFocus(#{node.gisgraphId}); return false;">
									#{node.name}
								</h:outputLink>
					</rich:treeNode>
					<rich:treeNode iconLeaf="org.richfaces/node_icon.gif"
						iconClass="rf-trn-ico" type="objectInGroup">
                    			#{node.name}
                			</rich:treeNode>
					<rich:treeNode iconLeaf="org.richfaces/node_icon.gif"
						iconClass="rf-trn-ico" type="group">
								#{node.name}
                			</rich:treeNode>
				</rich:tree>

			</div>
		</fieldset>

	</ui:composition>

</body>
</html>